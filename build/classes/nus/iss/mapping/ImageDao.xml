<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  

<mapper namespace="nus.iss.dao.IImageDao">  

    <resultMap id="image" type="nus.iss.model.Image">
        <id column="imgid" property="imgID" />
        <result column="imgname" property="imgName" />
        <result column="latitude" property="latitude" />
        <result column="longitude" property="longitude" />
        <result column="size" property="size" />
    </resultMap>

    <select id="getAllImages"  resultMap="image" >
        select imgid, latitude, longitude, imgName, size from image_info
    </select>
    
    
    <select id="getTotalSize"  resultType="int">
    	select sum(size) from image_info i
    		where i.imgName in
    		<foreach collection="list" item="imgName" index="index"
    		open="(" close=")" separator=",">
    			#{imgName}
    		</foreach>
    </select>
    
</mapper>